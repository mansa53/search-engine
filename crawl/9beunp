{"url": "https://www.reddit.com/r/learnprogramming/comments/9beunp/rails_data_gets_displayed_incorrectly_after_my/", "text": "[Here are screencaps](https://imgur.com/a/8ZldtvI) of my app.\n\nI'm getting this really odd problem when I migrate and seed my databases to Heroku. At first the information is correct (see first image and time on top right), but when I reload the page the data is screwed up.\n\nI can do a bit of a janky fix in which I re-arrange the categories of the html.erb file, but it's a nuisance. The most important thing for me to understand is *why* the data gets moved around incorrectly. \n\nHere's some code snippets:\n\nseeds.rb:\n\n        # --- MSI GTX 1080 TI SEA HAWK X --- #\n        { attribute_name: 'Series', attribute_value: 'SEA HAWK X', part_id: 66 },\n        { attribute_name: 'Chipset', attribute_value: 'GeForce GTX 1080 Ti', part_id: 66 },\n        { attribute_name: 'Memory', attribute_value: '11GB', part_id: 66 },\n        { attribute_name: 'Core Clock', attribute_value: 1.57, part_id: 66 },\n        { attribute_name: 'Price', attribute_value: 1499.99, part_id: 66 },\n        { attribute_name: 'Buy Online', attribute_value: 'https://www.newegg.com/Product/Product.aspx?Item=N82E16814137126', part_id: 66 },\n\n-----\n\nvid_cards.html.erb:\n\n    <section class=\"section\" id=\"vid_cards\">\n      <h1 class=\"title\">Video Cards</h1>\n    \n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th><abbr title=\"series\">Series</abbr></th>\n            <th><abbr title=\"chipset\">Chipset</abbr></th>\n            <th><abbr title=\"memory\">Memory</abbr></th>\n            <th><abbr title=\"core_clk\">Core Clock</abbr></th>\n            <th><abbr title=\"price\">Price</abbr></th>\n            <th><abbr title=\"buy\">Buy Online</abbr></th>\n          </tr>\n        </thead>", "score": 1, "comments": [{"body": "Looks like you\u2019re using Bulma. I don\u2019t think it\u2019s a styling issue however due to the fact that the data is being disarranged in the table itself.\n\nCan you show us the code where you fill the table with the data from your database?  ", "id": "e52jt57", "replies": [{"body": "Good catch, I am using Bulma.\n\nDo you mean the schema file?", "id": "e52k4r8", "replies": [{"body": "Yea, I think that\u2019s the one. I\u2019m assuming you\u2019re rendering the page server-side?", "id": "e52lauo", "replies": [{"body": "Here's the schema file:\n\n    ActiveRecord::Schema.define(version: 2018_05_02_144334) do\n    \n      # These are extensions that must be enabled in order to support this database\n      enable_extension \"plpgsql\"\n    \n      create_table \"parts\", force: :cascade do |t|\n        t.string \"name\"\n        t.string \"part_type\"\n        t.datetime \"created_at\", null: false\n        t.datetime \"updated_at\", null: false\n      end\n    \n      create_table \"specs\", force: :cascade do |t|\n        t.string \"attribute_name\"\n        t.string \"attribute_value\"\n        t.bigint \"part_id\"\n        t.datetime \"created_at\", null: false\n        t.datetime \"updated_at\", null: false\n        t.index [\"part_id\"], name: \"index_specs_on_part_id\"\n      end\n    \n      create_table \"user_part_lists\", force: :cascade do |t|\n        t.bigint \"user_id\"\n        t.bigint \"part_id\"\n        t.datetime \"created_at\", null: false\n        t.datetime \"updated_at\", null: false\n        t.index [\"part_id\"], name: \"index_user_part_lists_on_part_id\"\n        t.index [\"user_id\"], name: \"index_user_part_lists_on_user_id\"\n      end\n    \n    create_table \"users\", force: :cascade do |t|\n    ...etc\n\nI rendered the project via localhost and noticed that the categories were out of order then, but after I deployed the app to Heroku the problem seemed to be resolved (I didn't reload the pages much at the time, which is how I overlooked the re-arranging problem).", "id": "e52m105", "replies": [{"body": "Hmmm, everything looks fine there. What about the code you use to dynamically create/fill the html table?", "id": "e52ueoz", "replies": [{"body": "Here:\n\n    (rest of table info. is above here)\n        <th>\n          <abbr title=\"buy\">Buy Online</abbr>\n        </th>\n      </tr>\n    </thead>\n\n\n    <tbody>\n    <% @cases.each do |part| %>\n\n      <tr>\n        <td>\n           <strong><%= part.name %></strong>\n        </td>\n\n        <% part.specs.each do |spec| %>\n\n          <td><%= spec.attribute_value %></td>\n\n        <% end %>\n      </tr>\n\n\n\n    <% end %>\n      </tbody>\n    </table>\n\nThe other html.erb pages for each part are ordered the same way (which might help explain the problem...hm).", "id": "e52ulne", "replies": [{"body": "I just realized this was Ruby (which I have no experience with), but maybe this StackOverflow might help: [https://stackoverflow.com/questions/21852974/add-row-to-table-with-jquery-and-rails](https://stackoverflow.com/questions/21852974/add-row-to-table-with-jquery-and-rails)\n\nI have a feeling that the data in the table body is not being bound to the table headers (as seen on the reload), but why it works the first time beats me.", "id": "e52zoqh", "replies": [{"body": "Thanks for looking at my code nonetheless---I think you're onto something with the table body data. I'll see what StackOverflow has to offer :)", "id": "e53jful", "replies": []}]}]}]}]}]}]}]}, {"body": "It seems you may have included a screenshot of code in your \npost \"[[Rails] Data gets displayed incorrectly after my app's deployed via Heroku](https://www.reddit.com/r/learnprogramming/comments/9beunp/rails_data_gets_displayed_incorrectly_after_my/)\".\n\nIf so, note that posting screenshots of code is against \n/r/learnprogramming's rules: please **edit** your post to use one of the \n[approved ways of formatting code](https://www.reddit.com/r/learnprogramming/wiki/index#wiki_formatting_code). \n(Do NOT repost your question! Just edit it.)\n\nIf your image is not actually a screenshot of code, feel free to ignore \nthis message. Automoderator cannot distinguish between code screenshots \nand other images.\n\nPlease, *do not contact the moderators* about this message. Your post is still visible to everyone.\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/learnprogramming) if you have any questions or concerns.*", "id": "e52htud", "replies": []}], "title": "[Rails] Data gets displayed incorrectly after my app's deployed via Heroku"}