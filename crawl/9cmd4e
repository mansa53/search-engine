{"url": "https://www.reddit.com/r/learnprogramming/comments/9cmd4e/python_command_passing/", "text": "Hey,\n\n&#x200B;\n\nWe're trying to build an application to pass commands from a program to our server.  \n\n\n\\[ServerSide\\]  \n\n\nListen for connections on [0.0.0.0](https://0.0.0.0) port 9400  \n\n\n>The server needs to listen to ALL incomming connection on port 9400. the server will receive the follwing params: RemotePort, RemoteIP and LocalPort, The server then needs to make a listener on the LocalPort, and listen to the IP that requested the command to then forward the connection. Forwarded connections need to die after X amount of time inactive \n\n&#x200B;", "score": 0, "comments": [{"body": "Do you have a question?", "id": "e5bodl2", "replies": [{"body": "I think he (or she) just wants us to do the work for him (or her)", "id": "e5bp4pi", "replies": []}]}, {"body": "Sorry we we're attempting to use   \n\n\n    import socket\n    \n    HOST = ''   # use '' to expose to all networks\n    PORT = 9400\n    \n    def incoming(host, port):\n        \"\"\"Open specified port and yield requests\"\"\"\n        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n        sock.settimeout(10)\n        sock.bind((host, port))\n        sock.listen(0)\n        try:\n            while True:\n                request, addr = sock.accept()\n                yield request\n                request.close()\n        except socket.timeout:\n            raise StopIteration\n        finally:\n            sock.close()\n    \n    for request in incoming(HOST, PORT):\n        print request.recv(1024)\n    \n\n&#x200B;", "id": "e5bppq9", "replies": [{"body": "Again, what's your question?  Is something not working?", "id": "e5bre47", "replies": []}]}], "title": "Python command passing"}