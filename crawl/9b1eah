{"url": "https://www.reddit.com/r/learnprogramming/comments/9b1eah/java_broken_while_loop/", "text": "Hello! Recently I built an extremely simple program for class. It wouldn't run, so I then downloaded the instructors version which also would not run. When the program is run, it never terminates, only increases CPU usage on both an older laptop and a custom built gaming PC. This makes me believe that the issue lies within the while loop. The purpose of the code is to add the values of the array only to the point where the while loop sees the sentinel value, and stops adding. The answer should be 34. The code is provided below. Any help would be appreciated.\u200b\n\n    public class SentinelSolution {\n    \n    \tpublic static void main(String[] args) {\n    \t\t\n    \t\t// Complete the following code to calculate the sum of the numbers before the sentinel value.\n    \t\t\n    \t\tint[] numbers = {3,6,2,5,8,10,-1,4,12,7};\n    \t\tint sentinel_value = -1; \n    \t\tboolean done = false; // to determine if we have met the sentinel value\n    \t\tint k = 0;    // counter to access the elements of the array \n    \t\tint sum = 0;\t// stores the answer\n    \t\t\n    \t\twhile(!done){\n    \t\t     if(numbers[k] != sentinel_value){\n    \t\t          sum += numbers[k];\n    \t\t     }else{\n    \t\t          done = true;\n    \t\t     }\n    \t\t}\n    \t\t\n    \t\tSystem.out.println(sum);\n    \t}\n    \n    }\n\nEdit: Added a k++ at the end of the while loop.\nThanks for the help everyone", "score": 1, "comments": [{"body": "Check your variable \"k\" and if or when that ever changes.", "id": "e4zlswj", "replies": [{"body": "Was gonna comment the answer but this comment is better for him to learn and understand on his own the problem that he is facing. Will just add, k is initially equal to 0 so unless you don't change it, it wont magically change :)", "id": "e4zm7b5", "replies": []}]}, {"body": "K is never incremented", "id": "e4zm23b", "replies": [{"body": "Just added k++ above the sum += numbers[k]\nGetting 30 as an output now instead of 34. Not sure why", "id": "e4zmbiv", "replies": [{"body": "Try and trace the values of k during a run with pen and paper. I'll give you a hint, there are two distinct mistakes, one at the beginning, and one at the end.", "id": "e4zmn9c", "replies": []}, {"body": "put it as last else you start with 1\n\n[Proof that it works now](https://gyazo.com/a53a5587da924b28a41c700f562c0022)", "id": "e4zr0uc", "replies": []}]}]}], "title": "Java Broken While Loop"}