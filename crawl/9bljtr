{"url": "https://www.reddit.com/r/learnprogramming/comments/9bljtr/scrapy_request_url_error/", "text": "I'm getting the following error in my scrapy spider: \n    \n    TypeError('Request url must be str or unicode, got %s:' % \n    type(url).__name__)\n\ncorresponding to the following code snippet: \n   \n\n    next_page_url = \n    response.xpath('//a[@rel=\"next\"]').css('a::attr(href)').extract()\n       \n    if next_page_url is not None:    \n            yield scrapy.Request(next_page_url, callback=self.parse)\n\n\nWhat am I doing wrong?\n\n\nEdit: Got the answer. I was getting [u'request_url'] instead of u'request_url'. Adding [0] to the query solved it for me", "score": 1, "comments": [], "title": "Scrapy request url error"}