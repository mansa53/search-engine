{"url": "https://www.reddit.com/r/learnprogramming/comments/9baegn/how_can_i_allow_user_to_delete_selected_photos/", "text": "I have an admin dashboard for a site, and they can upload photos, but when I try to allow the user to delete photos with checkboxes it won't work.\n\n\u200b\n\nI've researched this for a few hours and I have the correct code, but it isn't working for some reason. The code that isn't working that should be is as follows:\n\nHTML:\n\n\u200b\n\n    <div class=\"row\">\n        <div class=\"col-8\"> \n    \n            <form method=\"POST\">\n    \n            <?php\n                    \n                $counter = 0;\n            \n                $dirname = \"../img/media/\";\n                $images = glob($dirname.\"*.jpg\");\n    \n                foreach($images as $image) { \n                    if ($counter == 3){\n                    echo \"<br>\";$counter=0;} \n    \n                    echo \"<img src='\".$image.\"' height='150' width='150' id='imgs' class='mx-2'/>\";\n                    echo \"<input type='checkbox' name='cbox[]' value='\".$image.\"' />\";\n    \n             $counter++; } ?>\n            </form>\n    \n        </div>\n        \n        <div class=\"col-4\">\n    \n            <h4>Upload Photos</h4>\n            <form method=\"POST\" enctype=\"multipart/form-data\">\n                <input type=\"file\" name=\"photo\">\n                \n                <input class=\"mt-5 btn btn-success\" type=\"submit\" name=\"submit\" value=\"Submit Photo\">\n                <input class=\"mt-5 btn btn-danger\" type=\"submit\" name=\"delete\" value=\"Delete Selected\">\n                \n            </form>\n    \n        </div>\n    </div> \n\nPHP:\n\n\u200b\n\n    if(isset($_POST['delete'])){\n        if(!empty($_POST['cbox'])){\n    \n            echo \"good\";\n    \n        }\n        else {\n            echo \"bad\";\n        }\n    }\n\n&#x200B;\n\n\u200b\n\nSo I want this button \"delete\" to eventually delete the photo from the server, but I can't even get the button to echo \"good\" right now. My two thoughts are, one, because I have PHP logic in a form it's disrupting the action or that having the image in the form is disrupting it somehow.\n\n\u200b\n\nMy thoughts are that I'll need to scrap the PHP approach and use JavaScript to do this, which may be cleaner anyway. Unless one of you can figure out the issue. All this does is echo out \"bad\" every time.\n\n\u200b\n\nThanks for your time.", "score": 1, "comments": [{"body": ">Apologies for the readability, but that's on Reddit not me.\n\nNo, it's on you. Reddit has code formatting, you just need to fix your indentation.", "id": "e51hc1o", "replies": [{"body": "The way I was writing it, it was very messy. It came out correctly once I posted it. Strange. This is not how it looked when I was writing it. \n\n&#x200B;\n\n&#x200B;", "id": "e51hohq", "replies": [{"body": "Reddit's formatting is confusing now. It's always been a bit confusing, but now that there's the \"new\" UI that includes a rich text editor, it's hard to tell people how this works. It uses Markdown, but if you're on the new UI, you just use the code block button (hidden in the ... menu).", "id": "e51htk1", "replies": []}]}]}, {"body": "Does the page refresh when you push the button? If it does I\u2019d put <?php echo \u201c<pre>\u201d; print_r($_POST);  echo \u201c</pre>\u201d; ?> at the top and just look at what\u2019s actually in the post variable when it\u2019s submitted.\n\nPrint r prints the contents of the array and the pre tags will make it look nice when it spits it out on to your web page. ", "id": "e51ob9f", "replies": []}], "title": "How can I allow user to delete selected photos with PHP?"}