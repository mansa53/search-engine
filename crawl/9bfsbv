{"url": "https://www.reddit.com/r/learnprogramming/comments/9bfsbv/post_form_not_properly_submitting/", "text": "I'm creating a website whereby users are able to create posts, comment, vote, etc. I'm done with showing and creating posts, however, I'm having a little trouble when submitting new comments.\n\n\u200b\n\n    <p>\n        <a href=\"/posts/<%=post._id%>/comments/new\">Add new comment</a>\n    </p>\n    <p><%=post.title%></p> \n    <p><%=post.description%></p> \n    \n    <% post.comments.forEach(function(comment){ %>\n        <p><%=comment.author%> - <%=comment.text%></p>\n    <% }); %>\n\nThe code works just fine; however, when submitting a comment, the only thing that is submitted is the \"-\" between the **<%=comment.author%>** and **<%comment.text%>**.\n\n**This is the form that is supposed to submit the new comment:**\n\n    <h1>Create a new comment to <%=post.title%></h1>\n    \n    <form action=\"/posts/<%=post._id%>/comments\" method=\"POST\">\n        <input type=\"text\" name=\"comment[text]\" placeholder=\"text\">\n        <input type=\"text\" name=\"comment[author]\" placeholder=\"text\">\n        <button>Submit</button>\n    </form>\n\n\nAnd this is the relevant code in the app.js file:\n\n    app.get(\"/posts/:id/comments/new\", function(req, res){\n        Post.findById(req.params.id, function(err, post){\n            if (err){\n                console.log(err);\n            } else {\n                res.render(\"comments/new\", {post: post});\n            }   \n        });\n    });\n    \n    app.post(\"/posts/:id/comments\", function (req, res){\n        Post.findById(req.params.id, function(err, post){\n            if(err){\n                console.log(err)\n                redirect(\"/posts\");\n            } else{ \n                Comment.create(req.body.Comment, function(err, comment){\n                    if (err){\n                        console.log(err);\n                    } else{\n                        post.comments.push(comment);\n                        post.save();\n                        res.redirect(\"/posts/\" + post._id);\n                    }\n                });\n            }\n        });\n    });\n\nIt would be greatly appreciated if someone is able to help me with this. Thanks a lot for your time.", "score": 5, "comments": [{"body": "I'm not a nodejs/express programmer, but, it seems to me in your last snippet of code `req.body.Comment` should be `req.body.comment` instead. But again I'm not even sure if that makes a difference in express!", "id": "e52yc9g", "replies": [{"body": "That worked. Thanks a lot, you don't know how crazy I was going, much appreciated!", "id": "e53avq5", "replies": []}]}], "title": "POST form not properly submitting."}