{"url": "https://www.reddit.com/r/learnprogramming/comments/9cgirq/how_to_scrape_dynamic_content_with_scrapy_in_jsp/", "text": "Hi everyone,\n\n\u200b\n\nI've identified some dynamic content that I'd like to scrape using scrapy on this site: [https://www.wellcome.com.hk/wd2shop/en/html/shop/chilled-and-frozen-food.html#/hs\\_rec\\_per\\_page=1000&hs\\_dept\\_id=31&hs\\_aisle\\_id=34&hs\\_shelf\\_id=1516](https://www.wellcome.com.hk/wd2shop/en/html/shop/chilled-and-frozen-food.html#/hs_rec_per_page=1000&hs_dept_id=31&hs_aisle_id=34&hs_shelf_id=1516). Using inspect element -> network and refreshing the page, I found a file (the fourth Sf\\_render.jsp) that housed the info I wanted (e.g. brand, price, weight of products.) Unfortunately I can't seem to get scrapy to return the contents of that file. I've researched and it looks like I'm supposed to use scrapy.http.FormRequest, and I'm confused on the syntax. I should also mention that the type of the request is 'POST'.\n\nThe most similar example of the same problem someone else had I could find was this: [https://stackoverflow.com/questions/46704152/scrapy-formrequest-cant-request-a-post](https://stackoverflow.com/questions/46704152/scrapy-formrequest-cant-request-a-post) because their request header content type was also 'x-www-form-urlencoded', but I tried their code (substituted in with my values and url) in the scrapy shell and I get \"No <form> element found\" after running the last line.\n\nMy code is as follows:\n\n&#x200B;\n\n    scrapy shell https://www.wellcome.com.hk/wd2shop/en/html/shop/chilled-and-frozen-food.html#/hs_rec_per_page=1000&hs_dept_id=3&hs_aisle_id=3&hs_shelf_id=4100\n    \n    from scrapy.http import FormRequest\n    \n    data = {'hf_s_id': 'WD11', 'hs_srv_id': 'Pv_jpdt_brw', 'hs_action_id': 'submit', 'hs_rec_per_page': '1000', 'hs_sort': 'popularity', 'hs_srch_page_no': '1', 'hs_dept_id': '31', 'hs_aisle_id': '34', 'hs_shelf_id': '1516', 'hf_locale_id': 'en'}\n    \n    head = {'Content-Type': 'text/html;charset=UTF-8', 'Accept': 'application/json, text/javascript, */*; q=0.01'}\n    \n    req = FormRequest.from_response(response, url=\"https://www.wellcome.com.hk/wd2/jsp/sys/Sf_render.jsp\", formdata=data)\u200b\n\n&#x200B;\n\n Alternatively if I try to access the jsp file directly from scrapy shell, I get 500 Internal Server Error.\n\n    scrapy shell https://www.wellcome.com.hk/wd2/jsp/sys/Sf_render.jsp\n\n&#x200B;\n\n&#x200B;\n\nThanks in advance for the help!", "score": 1, "comments": [], "title": "How to scrape dynamic content with scrapy in jsp file? Potentially using POST and FormRequest?"}