{"url": "https://www.reddit.com/r/learnprogramming/comments/9csrv6/c_cant_quite_convert_file_of_intshex_values_to/", "text": "I'm trying to re-learn C programming for a job. This should be simple, but my program fails to convert ints/hex values like 97 to their ascii char.  If I make the program based on user keyboard input, it's fine. But reading from a file just copies over the hex. Or I get stuck in an infinite loop that copies nothing. \n\nIf anyone know what redirection operators are, I'm using those. \n\nThis line \" ./a.out < hex.txt > new.txt \" takes the file hex.txt and runs it through my program. It directs the output of my program into the file new.txt. It's easier than typing a ton of stuff to test.\n\nAnyways, my code...\n\n      int main(void)\n     {\n\n      int hex;\n      \n      while(1)\n      {\n        hex = getchar();\n        if(hex == EOF){break;}\n        printf(\"%c\",hex);\n      }\n \n       return 0;\n     }\n\nAny help would be great. ", "score": 1, "comments": [{"body": "Your input file likely doesn\u2019t contain actual binary data, just ascii characters.\n\ngetchar() reads a single ascii character at a time\n\nSo if the file contains 97 you will read ascii 9 followed by ascii 7\n\nFirst thing first is to work out how to change ascii 9 to number 9, in c this is called atoi (ascii to integer)\n\nThen you need to shift the number over to make room for the units as this 9 isn\u2019t supposed to be a nine, in hex 0x97 the 9 represents 9\\*16\\^1 and the 7 is units 7\\*16\\^0\n\nIt might help to post a sample of the input file and a sample of your intended output ", "id": "e5d2igp", "replies": []}], "title": "[C] Can't quite convert file of ints/hex values to char"}