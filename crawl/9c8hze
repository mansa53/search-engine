{"url": "https://www.reddit.com/r/learnprogramming/comments/9c8hze/c_help_with_arrays/", "text": "Hi I am posting in regards to arrays and for loops. Earlier today i had my program filling two arrays with a random generator number. I then saw I am only suppose to use one for loop while alternating filling up both arrays. I then tried getting the average of each array but now I just keep getting 0 when I type in 1 or if i type any other number I just that same output over and over again it never generates any new numbers. Any ideas on where I went wrong? I figured its in my for loop but I am not entirely sure. \n\nMy code:\n\n[https://github.com/ag0715/assign4ee/blob/master/program1](https://github.com/ag0715/assign4ee/blob/master/program1)", "score": 1, "comments": [{"body": "Your sum is a double but you're dividing by an int. Try dividing by `10.0` instead of `10`\n\nEdit: also try compiling with -Wextra and you'll get a number of compiler warnings that you shouldn't ignore but I get you're probably new to this and don't want to make things needlessly complicated. ", "id": "e58ub1f", "replies": [{"body": "Thanks I am new to this sadly I missed one day of class due to an emergency and I didn\u2019t get to cover this I reviewed it on my own but still having a bit of trouble figuring it out and understanding it. If you wouldn\u2019t mind explaining what is -Wextra? I am on a Mac not sure if I can do that on here or no? ", "id": "e58ul05", "replies": [{"body": "If you're using g++ you just add it as a compiler flag.  If you have no clue what that is then just don't bother, as as /u/Holy_City mentioned, it'll just make things more complicated, and you'll probably learn about compiling/make later on.\n\n", "id": "e58y3cv", "replies": []}]}]}, {"body": "* You aren't properly using seeds correctly.  You do not need to use seed in the rand() calls.\n\n* You are reusing sum for A and B.  Create two variables to separately keep track of the sums for each class.\n\n* Why are you calculating avg inside the loop?  Preferably, what you do to get the average of, say, n marks is to get the sum of n marks and divide it by n after you get the final sum.\n\n* What happens if the two marks are equal?  You don't cover this case.\n\n* Use else-ifs to improve readability.\n\n* You technically don't need to initialize the double with \"0.00\", just a \"0\" would probably suffice.\n\n* If it's C++ can't you declare the \"i\" variable for the for-loop as part of the for-loop instead?  I actually don't know, so I'm just wondering.  Unless you're using some really old version of C++.\n\n* Nitpick, but if stuff like the size of classA and classB don't change, then use constants.  I only mention this as this was potential grounds for loss of style marks back in my C++ class (to be fair, you only got hit if you REALLY should have made it const).\n\n* Other minor nitpick, but attempt to initialize all your local variables.  You got most of them, but a few don't have initial values.  Might as well rule out that as a potential problem, right?", "id": "e58yg6a", "replies": []}, {"body": "Your sum variable is adding both the values of both arrays, when you want an individual sum variable for each array, presumably.\n\nIn addition, at every iteration of the loop, you're calculating an average... you want to do the average calculation outside the loop.", "id": "e58udg1", "replies": [{"body": "Thank you I\u2019ll see I what I can do to get the average correctly and move sum outside of the for loop ", "id": "e58uopp", "replies": []}]}, {"body": "I don't think that's a correct way to get an average.  And you're using sum as the accumulator for both Class A and Class B.", "id": "e58unwf", "replies": [{"body": "Thanks for your reply I\u2019m going to look into that and see what I can do to fix it and properly gather the sum thank you for your response. ", "id": "e58uqkc", "replies": []}]}, {"body": "> rand() % seed_value\n\nYour arrays are filled with 0 because of this part, since the result of \"rand() % 1\" is 0. The modulus operator returns the remainder of \"rand() / 1\" which is always 0. You should change it to \"rand() % 101\" to get a result from 0 to 100.\n\nhttp://www.cplusplus.com/faq/beginners/random-numbers/", "id": "e58uvys", "replies": [{"body": " Use to have it like that but I am suppose to let the user enter the number so if the user inputs 20 its suppose to give me numbers from 1 - 19 etc. I am just not sure why one of the test values is 1 and that test value gives a decent average of each array I figured if the random is set to 1 then the range would basically be 0 so i am somewhat confused on that ", "id": "e58v31e", "replies": [{"body": "If you want to adjust the range, use something like \"rand() % n1 + n2\". For example to get values between 10 and 20, you use \"rand() % 11 + 10\". The first value sets the range while the second value sets the minimum value.", "id": "e58vl3c", "replies": [{"body": "Even when the user is suppose to input the \u201cseed\u201d number? Or would I apply the value the user input to the seed value and let it randomize? ", "id": "e58vyj1", "replies": [{"body": "Could I have a look at the question? If the user input is supposed to be used as the seed number, just use the input at \"srand(seed_value)\". You don't need to use \"seed_value\" with \"rand()\". The values of n1 and n2 depends on the range of numbers you're supposed to fill up the arrays with.", "id": "e58w96g", "replies": [{"body": "Sure I can DM your picture of that particular part ", "id": "e58wck4", "replies": []}, {"body": "Okay so it took too long to upload a pic rn so i just copied the part about the seed here it is idk if its helpful it still isn't then ill upload a pic thru another service and then post a link. \n\n\"**Please Note:** To generate random numbers you will use the function srand(). srand() function takes a seed value. You are required to ask the user to input a seed value. And please call srand() function using the seed value entered by the user.\n\n* One additional include will be required:\n* In order to get different numbers on every run you must include this within the main function\n* &#x200B;\n\nint seed\\_value; \n\ncin>>seed\\_value; \n\nsrand(seed\\_value); //where seed\\_value is a integer.\" ", "id": "e58wv1k", "replies": [{"body": "You call srand with the seed value as its argument first.  You only need to call this once (so call it right after the user enters the seed).\n\nNow, whenever you want to get a random number, call rand.  If you need rand to be in a range, then do as /u/ongoingwhy mentioned earlier, which is:\n\n    rand() % (max - min + 1) + min // this will generate a random number from 1 to (max - min + 1), and then you add min to the result to get a number from [min, max].\n\nSo it would be something like:\n\n    int seed;\n    cin >> seed; //You might (depends on requirements of your course) have to validate that this is a valid seed.\n    srand(seed);\n    //...\n    int min = 0, max = 0;\n    cin >> min >> max;\n    int rand_value = rand() % (max - min + 1) + min;\n\n", "id": "e58y0br", "replies": [{"body": "okay so i corrected it to this still not entirely sure if its 100% correct \n\n&#x200B;\n\nint min = 0;\n\nint max = 101;\n\nint seed\\_value;\n\ncin>>seed\\_value;\n\nsrand(seed\\_value); //where seed\\_value is a integer.\n\nfor (i = 0; i < classes; i++) {\n\nNumberA\\[i\\] = (rand() % (max - min + 1) + min);\n\nNumberB\\[i\\]= (rand() % (max - min + 1) + min);\n\n}\n\nfor (i = 0; i < 10; ++i){\n\nsum = sum + NumberA\\[i\\];\n\navg1 = sum / 10;\n\ncout << avg1;\n\n}\n\nfor (i = 0; i < 10; ++i){\n\nsum = sum + NumberB\\[i\\];\n\navg2 = sum / 10;\n\ncout << avg2;\n\n}\n\n&#x200B;\n\n&#x200B;\n\nWhen I input  1  I get this result though:\n\n1\n\n**7.98.410.611.815.317.117.122.231.337.13942.847.25454.757.667.471.579.484.6Class A average is: 37.1**\n\n**Class B average is: 84.6**\n\n**Class B wins!Program ended with exit code: 0**", "id": "e590x93", "replies": [{"body": "> int max = 101;\n\nChange max to 100. \"(rand() % (max - min + 1) + min)\" has already incremented the value by 1.\n\n\n> for (i = 0; i < classes; i++)\n\nWhere did \"classes\" come from?\n\n\nYou didn't set sum to 0 between the two for loops. Also, you can solve the problem with only one for loop.\n\n    int sum = 0; \n    int sum2 = 0;\n    //...\n    for (i=0;i<10;i++){\n        NumberA[i] = (rand() % 101);\n        NumberB[i]= (rand() % 101);\n        sum += NumberA[i];\n        sum2 += NumberB[i];\n    }\n    cout << sum/10.0;\n    cout << sum2/10.0;", "id": "e59405c", "replies": [{"body": "Well since I\u2019m using one for loop to populate the arrays. I am doing \n\n    int classes = 10 \n    int NumberA [classes]; \n    int NumberB [classes]; \n\nI am not sure if that would be correct I completely removed classB. I updated the link with the code I currently have if it doesn\u2019t make sense though. I figured since I have to use one loop to populate both that\u2019s how it would be done. ", "id": "e5947d5", "replies": []}]}]}]}, {"body": "You don't need to change the \"srand()\" part. Just change \"rand() % seed_value\" to \"rand() % n1 + n2\", with n1 and n2 depending on the number range stated by the question. \n\nAlso, as mentioned by the others, you need two variables to keep track of the sum if you want to get the individual averages of the two arrays and the average should be calculated outside of the loop. ", "id": "e58xp0b", "replies": [{"body": "Thank you so much for your help ", "id": "e58xu35", "replies": [{"body": "No problem. :)", "id": "e58y0dh", "replies": []}]}]}]}]}]}]}]}]}], "title": "C++ Help with arrays"}