{"url": "https://www.reddit.com/r/learnprogramming/comments/9cin0k/can_someone_please_explain_the_concept_behind/", "text": "I have been using Java for some time now. But never really tested myself of the very basics. I was in for a surprise when I couldn't properly evaluate the correct answer to the program below. \n\n\n    class X\n    {\n        int m = 1111;\n     \n        {\n            m = m++;\n     \n            System.out.println(m);\n        }\n    }\n     \n    class Y extends X\n    {\n        {\n            System.out.println(methodOfY());\n        }\n     \n        int methodOfY()\n        {\n            return m-- + --m;\n        }\n    }\n     \n    public class MainClass\n    {\n        public static void main(String[] args)\n        {\n            Y y = new Y();\n        }\n    }\n\nMy wrong understanding:\n\nWhen we construct the Y object in the main class, control goes into the initializer block of Y where in it calls the super() constructor by default. Which means control goes into the initializer block in X. Where value of m is 1111. But gets incremented to 1112. So my guess is it should print 1112 since m++ comes before the sout line in the initialization block in X. Then it should implement the methodOfY() which means it should return back m-- '+' --m to be printed. Which evaluates to:\n\n1112(because it was incremented inside the X initializer block) + 1111(its a postfix operator --m so 1112 becomes 1111). And the output should be 2223. \n\nMy incorrect guess work output:\n\n    1112\n    2223\n\nBut the correct output is:\n\n    1111\n    2220\n\nCan someone please explain what concept am I missing to get the incorrect guess? How should have I though through the code to get the correct output?", "score": 1, "comments": [{"body": "int a = 1\uff1ba = a++ is a complex process.these exists an operation about stack\uff0cfirstly a =1\uff0c(top of the stack is 1)when a++\uff0cthe previous value of a will be  stored as a temporary variable,and 2 will be push into the stack\uff0cafter this\uff0ca=a++\uff0cthe temporary variable will be back to the top of stack.So the change process is 1->2->1.\nAvoid doing this is the best choice\uff1a\uff09", "id": "e5b12b0", "replies": [{"body": "Thanks for the explanation. I am still trying to understand. Would it be possible for you to give another example? Is there anything I can read on the internet which explains this using diagrams?", "id": "e5b1ycf", "replies": [{"body": "https://stackoverflow.com/questions/12147631/post-increment-behaviour\nhere are some discussions that you can refer but without diagrams", "id": "e5b2oyq", "replies": []}]}]}], "title": "Can someone please explain the concept behind this code block? I have explained my incorrect thinking logic. Looking for someone to please teach me the correct logic."}