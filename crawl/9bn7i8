{"url": "https://www.reddit.com/r/learnprogramming/comments/9bn7i8/flask_db_error/", "text": "Here is my repository:\n\n[https://github.com/normandantzig1/artshow.git](https://github.com/normandantzig1/artshow.git)\n\n&#x200B;\n\nI get an error when I run a query in Flask for a web site I am trying to build for a small project.  I am in Bash with a virtualenv.    I get an interal server error when I try to go to my Artshow route for the site.   Below is my error .   \n\n&#x200B;\n\nThe error says NameError: name 'Submission' is not defined\n\n&#x200B;\n\nSubmission is one of my tables/ classes.  I don't know how to fix the error.  Am I missing an import in my [routes.py](https://routes.py)?\n\n&#x200B;\n\n&#x200B;\n\nHere are the logs.  \n\n&#x200B;\n\n&#x200B;\n\n  File \"/mnt/c/webDev/flask/artshow/app/routes.py\", line 25, in artshow\n\nsubmissions = Submission.query.all()\n\nNameError: name 'Submission' is not defined\n\n[127.0.0.1](https://127.0.0.1) \\- - \\[30/Aug/2018 14:16:49\\] \"GET /artshow HTTP/1.1\" 500 -", "score": 2, "comments": [{"body": "You are missing an import. You need to import your Submissions class from your models.py file. By default, that file's module name is simply models.", "id": "e54emjv", "replies": [{"body": "Thanks.  Only one thing to add to it.   I have to put  from .models import Submission .  I am not sure I get why the \".\" is there but its important.  \n\n&#x200B;\n\n&#x200B;\n\n&#x200B;", "id": "e54ou05", "replies": [{"body": "Basically, it's because models is a submodule of app. When you type `from .models import Submission`, it's is a shortcut for `from app.models import Submission`. For reference, [here's](https://docs.python.org/3/reference/import.html#submodules) the submodules section of the Python manual.", "id": "e54pz9m", "replies": []}]}, {"body": "Now that I have the model working, I have a problem with the template, or view.  \n\n&#x200B;\n\n \n\nWhen I go to my my Artshow route for the site, I (literally) see \"This is the array: submissions\" and \"says:\".\n\n&#x200B;\n\n And Says is repeated 11 times. First, I expect to see a string showing the contents of my submission query where \"submissions\" is. Second, I expect to see the username of the submitter, \"says\": and body of the submission repeated 5 times (because there are 5 rows in the submission table).\n\n\u200b\n\n\u200bExample:\n\nThe site should show: Tom says Here is a cat picture\n\n&#x200B;\n\nWhat do you think is going on.  ", "id": "e552rmk", "replies": []}]}], "title": "Flask DB error."}