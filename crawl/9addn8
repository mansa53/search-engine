{"url": "https://www.reddit.com/r/learnprogramming/comments/9addn8/noticed_a_bad_attempt_malware_on_twitch_today/", "text": "So someone posted a link that directed to a pretty sketchy image hosting site.\n\n&#x200B;\n\nIt downloaded a file in .scr format..\n\n&#x200B;\n\nThis is the contents of the file: [https://i.imgur.com/zz5xhpL.png](https://i.imgur.com/zz5xhpL.png)\n\n&#x200B;\n\nThe 664.txt just contains \"123\"\n\n&#x200B;\n\nThe picture.. was of some other streamer..\n\n&#x200B;\n\nThe .js file contains this: [https://pastebin.com/nZ186E3Y](https://pastebin.com/nZ186E3Y)", "score": 7, "comments": [{"body": "Seems to invoke some IE-only code: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Microsoft_JavaScript_extensions/ActiveXObject", "id": "e4uot1o", "replies": []}, {"body": "scr files are Windows screensavers. But they're actually just exe files that are invoked with some special parameters, so it's basically an executable. You can unpack exe files to get attached resources, so my guess would be that it's an executable that invokes the attached resources when started. Windows includes a Javascript script host, so the js doesn't even have to be executed by a browser and could actually be ran directly on the system. Can't say much about the contents of the js file other than that it's been obfuscated. The obfuscation technique used is rather simple, basically just renaming variables and using scrambled strings for invoking object methods.", "id": "e4ursds", "replies": []}, {"body": "It seems you may have included a screenshot of code in your \npost \"[Noticed a bad attempt @ malware on Twitch today.. what is this .js attempting to do ?](https://www.reddit.com/r/learnprogramming/comments/9addn8/noticed_a_bad_attempt_malware_on_twitch_today/)\".\n\nIf so, note that posting screenshots of code is against \n/r/learnprogramming's rules: please **edit** your post to use one of the \n[approved ways of formatting code](https://www.reddit.com/r/learnprogramming/wiki/index#wiki_formatting_code). \n(Do NOT repost your question! Just edit it.)\n\nIf your image is not actually a screenshot of code, feel free to ignore \nthis message. Automoderator cannot distinguish between code screenshots \nand other images.\n\nPlease, *do not contact the moderators* about this message. Your post is still visible to everyone.\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/learnprogramming) if you have any questions or concerns.*", "id": "e4ulv8v", "replies": []}], "title": "Noticed a bad attempt @ malware on Twitch today.. what is this .js attempting to do ?"}