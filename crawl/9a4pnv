{"url": "https://www.reddit.com/r/learnprogramming/comments/9a4pnv/how_to_send_authentication_token_as_header/", "text": "I have build a project \"TodoApp\". Backend of the app is working fine. I am sending all my request through postman. For login and geetting posts authentication token is needed which is send to the server as http header.\nNow I am working on frontend using ejs rendering engine. But I couldnt figure out that how will I get and send user authentication token between server and client. In postman I just set a header. But how will I do it in frontend. Please help me.\n\nIf possible then please provide solution for node, express and js.", "score": 1, "comments": [{"body": "Unless I'm misunderstanding, you can do it almost any way you want.\n\n&#x200B;\n\nYou're probably communicating between your front-end and back-end by making an XMLHttpRequest from your client code, to a url that's handled by your server. As part of that request, just include the token. It could be pasted onto the end of the url as a query parameter (like r/http://foo.com/myapi?token). It could be a header (call setRequestHeader on the XMLHttpRequest). It could be part of the POST data. Any and all of those are fine because it's entirely up to you - you write both the front-end and back-end.\n\n&#x200B;", "id": "e4sr2xu", "replies": [{"body": "I am setting header by calling setRequestHeader. But how to get token value which is send by the servee when a user login.\n\nWhen a user is logging in, server send x-auth token as header. So when I request for Todo page then how to include that token in the header?", "id": "e4ssk7f", "replies": [{"body": ">But how to get token value which is send by the servee when a user login.\n\nYour front end app needs to store the token when it receives it from the server. Generally, the server sends the token in response to a successful request to log in.\n\n>So when I request for Todo page then how to include that token in the header?\n\nBy adjusting configuration options accordingly on whatever HTTP client module you happen to be using in the front end app.", "id": "e4sxa58", "replies": [{"body": "Thanks mate. I was thinking about storing the token in some variable. But then I hoped that there will be a technique to fetch header from current page. ", "id": "e4t6szw", "replies": [{"body": "> Thanks mate. I was thinking about storing the token in some variable.\n\nMy understanding is that the token is generally stored in local storage or session storage.\n\n> But then I hoped that there will be a technique to fetch header from current page.\n\nThat would defeat the purpose of authentication with Json Web Tokens, wouldn\u2019t it? :)", "id": "e4tccqp", "replies": []}]}]}]}]}, {"body": "Most often cookies are used for sending, receiving, and storing authentication tokens. Though you need to configure things like CSRF protection, and set the proper flags (Secure, SameSite, and HttpOnly if possible). In addition this will mean that login persists across tabs, browser restarts, etc until the cookie expires.\n  \n[This](https://auth0.com/docs/security/store-tokens) seems to be a decent explanation, as is [this](https://stackoverflow.com/questions/3220660/local-storage-vs-cookies).", "id": "e4tik7x", "replies": []}], "title": "How to send authentication token as header between server and client?"}