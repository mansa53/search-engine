{"url": "https://www.reddit.com/r/learnprogramming/comments/9crd8w/enzyme_submit_form_not_adding_to_list/", "text": " \n\nHello everyone.\n\nI 'm testing a react app and not sure why I'm getting:\n\n    AssertionError: expected {} to have a length of 3 but got 2  \n\nApp.test.js\n\n \n\n    describe(\"Test suite for App component\", function() {        \n        it(\"successfully adds dog to list when form submitted\", function() {            \n            const wrapper = mount(<App/>);            \n            const addog = wrapper.find('AddDog');             \n            addog.find('#dogName').getElement.value = 'Lola';            \n            addog.find('#dogBreed').getElement.value = 'German Sheph';             addog.find('#imageURL').getElement.value = 'http://portland.ohsohandy.com/images/uploads/93796/m/nice-and-sweet-siberian-husky-puppies-for-free-adoption.jpg';             \n            const form = addog.find('form');            \n            form.simulate('submit');            \n            expect(wrapper.find('Dogs').find('DogItem')).length(3);            \n            expect(wrapper.state().dogs[2].name == 'Lola');        \n        });  \n    }  \n\nExtra files if needed:\n\nAddDog.js: [https://gist.github.com/bernar83/f8ed894baebd62a0ea613e3815fabdb0](https://gist.github.com/bernar83/f8ed894baebd62a0ea613e3815fabdb0)\n\nApp.js: [https://gist.github.com/bernar83/8cd99aff0be2fa6a3eddf673fa2f8359](https://gist.github.com/bernar83/8cd99aff0be2fa6a3eddf673fa2f8359)\n\nDogs.js: [https://gist.github.com/bernar83/c7ce9d575fb066a43a13f099b93b294b](https://gist.github.com/bernar83/c7ce9d575fb066a43a13f099b93b294b)\n\nDogItem.js: [https://gist.github.com/bernar83/9887943ba3293c6e89a228cbfa2a442c](https://gist.github.com/bernar83/9887943ba3293c6e89a228cbfa2a442c)\n\nI'm expecting for the form to submit and add to the list of dogs but it didn't. What am I missing or doing wrong?", "score": 1, "comments": [], "title": "Enzyme - Submit Form Not Adding to List"}