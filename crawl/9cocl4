{"url": "https://www.reddit.com/r/learnprogramming/comments/9cocl4/the_java_oddities/", "text": "Some years ago I had to write a Java interpreter  (very limited) in SML, for a project in a university course.\n\nWe had a lot of fun pointing out its oddities and I learned a lot doing so. Thus, I'd like to share them with you! (note that some of the examples are in pseudocode)\n\nStart with a easy one:\n\n* Why is there an error? [link\\_to\\_image\\_1](https://i.imgur.com/9AI6kZZ.png)\n* Solution: [solution\\_to\\_image\\_1](https://i.imgur.com/kYvjoTH.png)\n\n\u200b\n\n* Which is the output? [link to image 2](https://i.imgur.com/HMcTN6c.png)\n* Solution: [solution\\_to\\_image\\_2](https://i.imgur.com/sZI79EV.png)\n\n\u200b\n\n* Why is there an error? [link\\_to\\_image\\_3](https://i.imgur.com/RD6EM1W.png)\n* Solution: [solution\\_to\\_image\\_3](https://i.imgur.com/ZojcCrr.png)\n\n\u200b\n\n* Which is the output? [link\\_to\\_image\\_4](https://i.imgur.com/z6EdV6P.png) (If I'm not careful, I still make this mistake. Not that it should happen in actual code...)\n* Solution: >!0. Do you know why?!<\n\n\u200b\n\nI'm taking the examples from the report that we wrote, that is why I'm posting the screenshots and not the code.", "score": 5, "comments": [{"body": "These are actually really tricky. I thought I knew all the Java trickery after getting my OCA, but you still got me on the second one.\n\n\u200b\n\nAs for the last one >!Java always picks the method signature that most closely matches the arguments. B is closer to C than Object is, so it picks the method with B!<", "id": "e5c3efc", "replies": [{"body": "Yep!\n\nAnd this concept was really difficult to implement in a functional language, we ended up ignoring it", "id": "e5c3lot", "replies": []}, {"body": "i\u2019m not sure i understand the last one still as i just learned java last year. what do you mean by \u201ccloser\u201d?", "id": "e5c3w4t", "replies": [{"body": "When Java gets a certain argument, it tries to find a method with a matching signature. If it can't find an exact match for the signature, it checks for the parent of each argument to see if any of those match. If those don't match either, it takes the parents of the parent, all the way up to Object.\n\nIf you have a method that takes A and one that takes Object. Java will encounter A before it encounters Object, so it stops searching and never tries the method that takes Object.", "id": "e5c486o", "replies": [{"body": "Thanks so much!", "id": "e5c4vpa", "replies": []}]}]}]}, {"body": "It seems you may have included a screenshot of code in your \npost \"[The java oddities](https://www.reddit.com/r/learnprogramming/comments/9cocl4/the_java_oddities/)\".\n\nIf so, note that posting screenshots of code is against \n/r/learnprogramming's rules: please **edit** your post to use one of the \n[approved ways of formatting code](https://www.reddit.com/r/learnprogramming/wiki/index#wiki_formatting_code). \n(Do NOT repost your question! Just edit it.)\n\nIf your image is not actually a screenshot of code, feel free to ignore \nthis message. Automoderator cannot distinguish between code screenshots \nand other images.\n\nPlease, *do not contact the moderators* about this message. Your post is still visible to everyone.\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/learnprogramming) if you have any questions or concerns.*", "id": "e5c28f8", "replies": []}, {"body": "(Actual) screenshots or transcriptions might have worked better, the images are a bit blurry...\n\n", "id": "e5c2p6e", "replies": [{"body": "In my defense, the images on the report were blurry too", "id": "e5c3qpc", "replies": []}]}, {"body": "If you want a whole book of these, [Java Puzzlers](https://www.amazon.com/gp/product/product-description/032133678X) by Joshua Bloch and Neal Gafter is excellent. ", "id": "e5c8u6p", "replies": []}], "title": "The java oddities"}