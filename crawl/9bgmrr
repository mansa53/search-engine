{"url": "https://www.reddit.com/r/learnprogramming/comments/9bgmrr/c_cleaning_up_code_for_a_program_i_am_working_on/", "text": "Hi I am new to C++ and was typing up a program that gives a discount to the price inputed by the user. The discount is given to the user based on their age and on what category they fall in. The code runs and works just fine. I need help cleaning it up is there any other things I could do to make the code look cleaner and nicer? We are only allowed to use if and else statements. Thanks! \n\nHere is a link to my code:\n\n[https://github.com/ag0715/assign4ee/blob/master/program1](https://github.com/ag0715/assign4ee/blob/master/program1)\n\nthank you.", "score": 1, "comments": [{"body": "`else if ((age > 0) & (age <= 5)){ ` Well, this is just plain incorrect, that's not how the 'and' operator works.\n\nThere's also a lot of odd spacing in it that makes it look like you didn't try really hard to make it presentable in the first place. Look into [code formatting styles](https://en.wikipedia.org/wiki/Indentation_style)", "id": "e52z0tb", "replies": [{"body": "Thank you for your response I\u2019ll definitely be working on making the coding presentable as I myself has trouble reading it because I would get confused. Thank yo for pointing out the \u2018and\u2019 operator mistake I will look into it to correct the issue. ", "id": "e53m7dx", "replies": []}]}, {"body": "Your indentation is wacky.\n\nRather than\n\n    else if (category == 'a' ){\n         cout << price;\n      }  \n      \n    else if (category =='A'){\n         cout << price;\n      } \n\nI'd do\n\n    else if (category == 'a' || category == 'A') { ...\n\nor even\n\n    else if (tolower(category) == 'a') { ...\n\nLook at every place you repeat code. Those are places you can make a function. You have:\n\n         double final_price;\n         final_price  =  price - (( price * 55)/100);\n         cout << fixed;\n         cout << setprecision(2) << final_price;\n\nand \n\n            double final_price;\n            final_price  =  price - (( price * 65)/100);\n            cout << fixed;\n            cout << setprecision(2) << final_price;\n\n(notice the different levels of indentation? Why???). Instead, you could have\n\n    print_final_price(price, 55);\n\nand\n\n    print_final_price(print, 65);\n\nThere has to be a simpler way to deal with the logic of ages and categories, but I'm too tired to think of it.\n", "id": "e52zgfx", "replies": [{"body": "Hi thank you for your feedback like others have pointed out my formatting is terrible and will be working on making the code look presentable or formatted correctly. Thank you for the different ways of writing some of the code to make it easier to read. ", "id": "e53mayn", "replies": []}]}, {"body": "Rule #1 of code formatting: be consistent!\n\nYour indenting is not only strange, but inconsistent. For example the `}` on line 16 is aligned with the `if` that it ends (good!) but the `}` on line 24 isn't,  it's indented one extra level (bad).\n\nThe code on lines 31-34 isn't indented enough. \n\nIn short, all your indenting needs adjusting. Code after a `{` should be indented one extra level until the next `}`, at which point you decrease the indent level.\n\nAlso, as someone else pointed out, `&` isn't how you do a logical \"and\". You should use `&&` for that.\n\nSo, for example, you line 30 becomes:\n\n    else if (age > 0 && age <= 5){\n\nNote that I also removed the excess parentheses; if they aren't needed (they aren't here) and don't make the code clearer (they don't), remove them, otherwise it's just adding noise!\n\nAlso, some comments in your code would be useful; e.g. *why* are you doing that calculation on line 47?\n\nYou could simplify some code, too. For example, this:\n\n      else if (category == 'b' ){\n         cout << price;\n      }  \n      \n      else if (category =='B'){\n         cout << price;\n      } \n\ncould become:\n\n      else if (category == 'b'  || category =='B'){\n         cout << price;\n      } \n\nor even just:\n\n      else if (toupper(category) =='B'){\n         cout << price;\n      } \n\n\n", "id": "e53e0r9", "replies": [{"body": "Hey thank you so much for taking the time to give me feedback on the code. I will be working on the indentation for sure and making the code formatted correctly and consistent rather than having things all over the place looking like a mess. Thanks for the tip on how to properly use & and &&. I\u2019ll go back and fix the issues and make it look better and clean everything up. Thank you! ", "id": "e53mi28", "replies": []}]}], "title": "C++ Cleaning up code for a program I am working on"}